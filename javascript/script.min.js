function shortenStr(a){for(var b=0;b<a.length;b++)if(","===a.charAt(b))return a.substring(0,b);return a}function removeSp(a){return a=a.replace(/\s/g,"")}function randomNum(a){return Math.floor(Math.random()*a)+1}function uniqueRandomNum(a,b,c){for(;a.length<b;){for(var d=randomNum(c)-1,e=!1,f=0;f<a.length;f++)if(a[f]==d){e=!0;break}e||(a[a.length]=d)}}function Movie(a,b,c,d,e,f,g,h,i,j,k){this.pic=a,this.title=b,this.year=c,this.director=d,this.actors=e,this.duration=f,this.genre=g,this.rating=h,this.plot=i,this.type=j,this.xFeature=k,"Stinkers"!=this.type&&"search"!=this.type?Trailer.call(this,k):Review.call(this,k)}function Trailer(a){this.trailer=a,this.buttonID=removeSp(this.title)+"Trailer",this.videoButton={buttonHTML:'<a href="#" id="'+this.buttonID+'" data-reveal-id="trailerModal" class="trailer button small radius success" href="#">Watch Trailer / Scene</a>'},this.modal=function(a){if(""!=this.trailer&&void 0!=this.trailer){modal.innerHTML="";var b='<div class="">';b+="<h3>"+this.title+"</h3>",b+='<div class="flex-video">',b+='<iframe width="560" height="315" src="'+this.trailer+'" frameborder="0" allowfullscreen></iframe>',b+="</div>",b+='<a class="close-reveal-modal" aria-label="Close">&#215;</a>',b+="</div>",modal.innerHTML=b,$(".close-reveal-modal").click(function(){modal.innerHTML=""})}}}function Review(a){this.review=a}var favouriteMovieList=new MovieList,searchResult,favButtonArray=[],posterList=[],mq=window.matchMedia("(min-width: 600px)"),button,displayList=document.getElementById("displayList"),modal=document.getElementById("trailerModal"),favCategory=[],Animated=new Favourites("Animated");favCategory.push(Animated);var Australian=new Favourites("Australian");favCategory.push(Australian);var Comedy=new Favourites("Comedy");favCategory.push(Comedy);var Biography=new Favourites("Biography");favCategory.push(Biography);var Dystopian=new Favourites("Dystopian");favCategory.push(Dystopian);var Thriller=new Favourites("Thriller");favCategory.push(Thriller);var Music=new Favourites("Music");favCategory.push(Music);var Drama=new Favourites("Drama");favCategory.push(Drama);var War=new Favourites("War");favCategory.push(War);var posters=[];$(document).ready(function(){function a(a,b,c){function d(a){var d="http://img.omdbapi.com/?i="+a.imdbID+"&apikey=6c024fcd",e=new Movie(d,a.Title,a.Year,a.Director,a.Actors,a.Runtime,a.Genre,a.imdbRating,a.Plot,b,c);favouriteMovieList.add(e),"Stinkers"==b?$("#status").html("<h3>The Stinklist</h3>"):$("#status").html("<h3>Mots Favourite "+b+" movies</h3>"),favouriteMovieList.render(displayList)}var e="http://www.omdbapi.com/?",f={t:a,plot:"short",r:"json"};$.getJSON(e,f,d)}$("#go").click(function(){var a=$("#search").val();a&&d(a)}),$(".nav-link").click(function(){var a=$(this).text();e(a,motsFavs[a].titles),$("#status").html=""}),$(".stinkButton").click(function(){var a=$(this).text();e(a,motsFavs[a].titles),$("#status").html=""}),uniqueRandomNum(favButtonArray,4,9);for(var b=document.querySelectorAll(".favlist"),c=0;c<b.length;c++){favCategory[favButtonArray[c]];b[c].innerHTML=favCategory[favButtonArray[c]].toHTML()}$("#status").html="Mots Favourite Movies by Genre";var d=function(a){function b(a){if("Movie not found!"==a.Error)$("#search").val(""),$("#search").attr("placeholder","...Sorry Movie not found");else{var b=new MovieList,c="http://img.omdbapi.com/?i="+a.imdbID+"&apikey=6c024fcd";searchResult=new Movie(c,a.Title,a.Year,a.Director,a.Actors,a.Runtime,a.Genre,a.imdbRating,a.Plot,"search",null),b.add(searchResult),$("#status").html("<h3>Search results</h3>"),b.render(displayList)}}var c="http://www.omdbapi.com/?",d={t:a,plot:"short",r:"json"};$.getJSON(c,d,b),console.log(a)},e=function(b,c){if(favouriteMovieList.movies=[],"Stinkers"!=b)for(var d=0;d<c.length;d++)a(c[d],b,motsFavs[b].trailers[d]);else for(var d=0;d<c.length;d++)a(c[d],b,motsFavs[b].review[d])},f=function(a,b,c){var e=this;this.title=a,this.x=b,this.y=c,this.index=0,this.draw(),posters.push(this),this.search=function(){console.log("searching"),d(this.title)},this.button=document.getElementById(removeSp(this.title)),this.button.addEventListener("click",function(a){e.search()},!1)};f.prototype.draw=function(){var a=removeSp(this.title),b='<div id="'+a+'" class="posterButton" data-name="'+this.title+'"><div class="cloak"></div></div>';this.posElement=$(b),this.posElement.css({"background-image":'url("img/animate/ps_'+a+'.jpg")',position:"absolute",left:this.x,top:this.y}),$("#slide3").append(this.posElement)};var g=function(a,b){this.index=1,this.count=1,this.x=a,this.y=b,this.imgWidth=3900,this.imgHeight=300,this.xpos=0,this.ypos=0,this.numFrames=10,this.frameSize=390,this.reverse=!1,this.draw()};g.prototype.draw=function(){var a='<div class="sprite"></div>';this.animElement=$(a),this.animElement.css({"background-image":'url("img/HomerSpriteSheet.jpg")',backgroundPosition:-this.xpos+"px "+-this.ypos+"px",width:this.frameSize,height:this.imgHeight,position:"absolute",left:this.x,top:this.y}),$("#slide2").append(this.animElement)},g.prototype.animate=function(){this.animElement.css({backgroundPosition:-this.xpos+"px "+-this.ypos+"px"}),this.xpos+=this.frameSize,this.index=this.index+this.count,this.index>=this.numFrames?(this.reverse=!0,this.count*=-1,this.frameSize*=-1):this.index<=1&&(this.reverse=!1,this.count*=-1,this.frameSize*=-1)};var h=new g(0,0),i=[{x:0,y:0},{x:100,y:0},{x:200,y:0},{x:300,y:0},{x:400,y:0},{x:500,y:0},{x:600,y:0},{x:700,y:0},{x:800,y:0},{x:900,y:0},{x:0,y:150},{x:100,y:150},{x:200,y:150},{x:300,y:150},{x:400,y:150},{x:500,y:150},{x:600,y:150},{x:700,y:150},{x:800,y:150},{x:900,y:150}],j=["City of God","Life of Pi","Taxi Driver","Ghosts Of The Civil Dead","Dead Calm","Gone Girl","Flirting","Electroma","Withnail & I","Block Party","Ex Machina","Nightcrawler","Walk Hard","Apocalypse Now","Precious","Revenge Of The Nerds","Detachment","The Year My Voice Broke","Dirty Pretty Things","Grave of the Fireflies","Sideways","Robocop","District 9","Paris Texas","1984"];uniqueRandomNum(posterList,i.length,j.length);for(var c=0;c<i.length;c++){new f(j[posterList[c]],i[c].x,i[c].y)}setInterval(function(){h.animate()},140)});var motsFavs={Animated:{pic:"img/animated.jpg",titles:["grave of the fireflies","fantastic planet","animal farm","fritz the cat","The Lord of the Rings"],trailers:["https://www.youtube.com/embed/_9WEyuMq0Yk?autoplay=true&showinfo=0","https://www.youtube.com/embed/SgCxCZNkQ9E?autoplay=true&showinfo=0","https://www.youtube.com/embed/2xzklsnBTzc?autoplay=true&showinfo=0","https://www.youtube.com/embed/otZL-EfgrG4?autoplay=true&showinfo=0","https://www.youtube.com/embed/wZpmZyTK2dI?autoplay=true&showinfo=0"]},Australian:{pic:"img/australian.jpg",titles:["the year my voice broke","bad boy bubby","dead calm","romper stomper","death in brunswick","idiot box","flirting"],trailers:["https://www.youtube.com/embed/q48hLGtazdw?autoplay=true&showinfo=0","https://www.youtube.com/embed/V4kmC1TaDjM?autoplay=true&showinfo=0","https://www.youtube.com/embed/jO6UmoEg9SI?autoplay=true&showinfo=0","https://www.youtube.com/embed/bcHzd45kbx4?autoplay=true&showinfo=0","https://www.youtube.com/embed/GMEsOfgo7gM?autoplay=true&showinfo=0","https://www.youtube.com/embed/-IceJt9Ch6Y?autoplay=true&showinfo=0","https://www.youtube.com/embed/fG-zYpioW6A?autoplay=true&showinfo=0"]},Biography:{pic:"img/biography.jpg",titles:["in the name of the father","the people vs larry flynt","love & mercy","downfall","the pianist"],trailers:["https://www.youtube.com/embed/04ZYTB2ZXVc?autoplay=true&showinfo=0","https://www.youtube.com/embed/JqoH6dDyZmk?autoplay=true&showinfo=0","https://www.youtube.com/embed/lioWzrpCtGQ?autoplay=true&showinfo=0","https://www.youtube.com/embed/t7PmzdINGZk?autoplay=true&showinfo=0cc_load_policy=1iv_load_policy=1","https://www.youtube.com/embed/CIRLLPa-j9o?autoplay=true&showinfo=0"]},Comedy:{pic:"img/comedy.jpg",titles:["idiocracy","walk hard","life of brian","Withnail & I","Borat"],trailers:["https://www.youtube.com/embed/clYwX8Z43zg?autoplay=true&showinfo=0","https://www.youtube.com/embed/4yzjtnj8Y3U?autoplay=true&showinfo=0","https://www.youtube.com/embed/NrDVsprWRCQ?autoplay=true&showinfo=0","https://www.youtube.com/embed/rba1zgPTtOo?autoplay=true&showinfo=0","https://www.youtube.com/embed/vlnUa_dNsRQ?autoplay=true&showinfo=0"]},Drama:{pic:"img/drama.jpg",titles:["requiem for a dream","There Will Be Blood","Trainspotting"],trailers:["https://www.youtube.com/embed/mkYNhZvlHv0?autoplay=true&showinfo=0","https://www.youtube.com/embed/AHz-zZoBnbc?autoplay=true&showinfo=0","https://www.youtube.com/embed/vPKhhne8mCs?autoplay=true&showinfo=0iv_load_policy=3"]},Dystopian:{pic:"img/dystopian.jpg",titles:["children of men","1984","district 9","mad max 2","12 Monkeys"],trailers:["https://www.youtube.com/embed/QfBSncUspBk?autoplay=true&showinfo=0","https://www.youtube.com/embed/apTxPv-LJh8?autoplay=true&showinfo=0","https://www.youtube.com/embed/gtMEDz7CvyY?autoplay=true&showinfo=0","https://www.youtube.com/embed/i2gVXd7FzhQ?autoplay=true&showinfo=0","https://www.youtube.com/embed/9l_U2xXb9VI?autoplay=true&showinfo=0"]},Music:{pic:"img/music.jpg",titles:["straight outta compton","Ray","Whiplash","The Filth and the Fury","Pink Floyd The Wall"],trailers:["https://www.youtube.com/embed/jPL4qEgoGuY?autoplay=true&showinfo=0","https://www.youtube.com/embed/9nFrp7Z9wEU?autoplay=true&showinfo=0","https://www.youtube.com/embed/xDAsABdkWSc?autoplay=true&showinfo=0","https://www.youtube.com/embed/OXyf4jKtrSo?autoplay=true&showinfo=0","https://www.youtube.com/embed/I7ijRW_k9r4?autoplay=true&showinfo=0"]},Thriller:{pic:"img/thriller.jpg",titles:["prisoners","end of watch","nightcrawler","drive","The Silence of the Lambs"],trailers:["https://www.youtube.com/embed/bpXfcTF6iVk?autoplay=true&showinfo=0","https://www.youtube.com/embed/y_b4hRBadmc?autoplay=true&showinfo=0","https://www.youtube.com/embed/X8kYDQan8bw?autoplay=true&showinfo=0","https://www.youtube.com/embed/KBiOF3y1W0Y?autoplay=true&showinfo=0","https://www.youtube.com/embed/V5dA92wqmME?autoplay=true&showinfo=0"]},War:{pic:"img/war.jpg",titles:["full metal jacket","platoon","stalingrad","Apocalypse Now","Waterloo"],trailers:["https://www.youtube.com/embed/iH5R4tgGdDk?autoplay=true&showinfo=0","https://www.youtube.com/embed/4P21LKJeH4A?autoplay=true&showinfo=0","https://www.youtube.com/embed/7QlK-l-vpZQ?autoplay=true&showinfo=0","https://www.youtube.com/embed/Usq-rdnk3l0?autoplay=true&showinfo=0","https://www.youtube.com/embed/JmRDwWiz6kw?autoplay=true&showinfo=0"]},"Sci-Fi":{pic:"img/sci-fi.jpg",titles:["interstellar","the martian ","sunshine","blade runner","The Man From Earth"],trailers:["https://www.youtube.com/embed/0vxOhd4qlnA?autoplay=true&showinfo=0","https://www.youtube.com/embed/ej3ioOneTy8?autoplay=true&showinfo=0","https://www.youtube.com/embed/r8BSlqHAhuY?autoplay=true&showinfo=0","https://www.youtube.com/embed/4lj2ISTrfnE?autoplay=true&showinfo=0","https://www.youtube.com/embed/9mOIxyRTY5I?autoplay=true&showinfo=0"]},Stinkers:{pic:"img/homer_stinkers.jpg",titles:["the rover","independence day","the squid and the whale","U-571","face/off","australia","Coffee and Cigarettes","Zack and Miri Make a Porno"],review:["It should be good....Its post apocalyptic...its from the director of Animal Kingdom. But what a stinker! I had to look up plot summaries to understand what the fuck was going on and that was as big a waste of time as viewing the movie in the first place. He goes through a pointless turgid chase so he can bury his dead dog. Ooooo! so deep... so dark.... Fuuuuck Offf!","All those 'groundbreaking' special effects (they look pretty dated now...) cant save this movie from its own inherent stupidity. Bill Pullman from Spaceballs is cast as the President of the USA who saves the day by personally flying a jet-fighter against the aliens. That goes some way to demonstrating that Wendy Kurtzman (casting) should be shot along with the director and writers.","A yawn of a film about the divorce of a pair of well heeled inner city academics and the effect it has on their spoilt brat children. If you get off on dramas about first world problems you might like this.","Did you know the Enigma Code was actually cracked by Americans and not the British? Also Genghis Kahn was the 2nd President of the United States and South America is one of the lesser known states next to Texas.","Has John Woo ever made a film that isn't an absolute crock of shit? This movie is about someone who has a complete face transplant with no visible side effects. How 'bout a brain transplant for 14 year old that must have written this rubbish?","I must admit I've never actually watched this. But the sheer fact that it's claimed Xavier Herberts 'Capricornia' (The great Australian novel equivalent to of 'The Grapes of Wrath') was an inpiration for it angers me enough to bypass it. It bares no resemblance to the novel other then being set in far north Australia. Also Luhrmann + Kidman + Jackman = river of puke...","This is the only movie I recall watching in the cinema and being desperate for it to end. I mean I didn't like sister act much as a 10 year old but it served as some sort of C-grade entertainment. On paper it looked good, but Tom Waits, Iggy Pop, Steve Buscemi Bill Murray and Steven Wright among many others couldn't save me from total and utter boredom. Absolute shit!.","Friends fall in love whilst making a porno movie. If it didn't try to be a romance story and just wallowed in its own crass and nasty premise it might've worked, but no it tries and splat! Its just a mess."]}},covers=["img/animate/covers_01.jpg","img/animate/covers_02.jpg"],MovieList=function(){this.movies=[]};MovieList.prototype.add=function(a){this.movies.push(a)},MovieList.prototype.render=function(a){but=[],a.innerHTML="";for(var b=0;b<this.movies.length;b++)this.movies[b].renderHTML(a)};var Favourites=function(a){this.name=a,this.pic=motsFavs[a].pic,this.favouritesList=motsFavs[a].titles};Favourites.prototype.toHTML=function(){return htmlString='<div class="wrapper">',htmlString+='<img src="'+this.pic+'">',htmlString+='<div class="cloak">',htmlString+="<h3>"+this.name+"</h3>",htmlString+="</div></div>",htmlString},Favourites.prototype.ajax=function(a,b){function c(b){var c=new Movie(b.Poster,b.Title,b.Year,b.Director,b.Runtime,b.Genre,b.imdbRating,b.Plot);a.add(c)}var d="http://www.omdbapi.com/?",e={t:b,plot:"short",r:"json"};$.getJSON(d,e,c),console.log(search)},function(a,b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?module.exports=b(require("jquery")):a.MotionUI=b(a.jQuery)}(this,function(a){"use strict";function b(b,f,g,h){function i(){b||f.hide(),j(),h&&h.apply(f)}function j(){f[0].style.transitionDuration=0,f.removeClass(k+" "+l+" "+g)}if(f=a(f).eq(0),f.length){if(null===e)return b?f.show():f.hide(),void h();var k=b?c[0]:c[1],l=b?d[0]:d[1];j(),f.addClass(g),f.css("transition","none"),requestAnimationFrame(function(){f.addClass(k),b&&f.show()}),requestAnimationFrame(function(){f[0].offsetWidth,f.css("transition",""),f.addClass(l)}),f.one("transitionend",i)}}!function(){Date.now||(Date.now=function(){return(new Date).getTime()});for(var a=["webkit","moz"],b=0;b<a.length&&!window.requestAnimationFrame;++b){var c=a[b];window.requestAnimationFrame=window[c+"RequestAnimationFrame"],window.cancelAnimationFrame=window[c+"CancelAnimationFrame"]||window[c+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var d=0;window.requestAnimationFrame=function(a){var b=Date.now(),c=Math.max(d+16,b);return setTimeout(function(){a(d=c)},c-b)},window.cancelAnimationFrame=clearTimeout}}();var c=["mui-enter","mui-leave"],d=["mui-enter-active","mui-leave-active"],e=function(){var a={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"},b=window.document.createElement("div");for(var c in a)if("undefined"!=typeof b.style[c])return a[c];return null}(),f={animateIn:function(a,c,d){b(!0,a,c,d)},animateOut:function(a,c,d){b(!1,a,c,d)}};return f}),Movie.prototype=Object.create(Trailer.prototype),Movie.prototype=Object.create(Review.prototype),Movie.prototype.properties=function(){var a=[];for(var b in this)this.hasOwnProperty(b)&&a.push(b);return a},Movie.prototype.buttonHandler=function(a){var b=this,c=document.getElementById(a);c.addEventListener("click",b.modal.bind(this),!1)},Movie.prototype.renderHTML=function(a){movieItem='<div class="movie text-center clearfix">',movieItem+='<div><img class="pic" src="'+this.pic+'" alt="'+this.title+'"></div>',movieItem+='<div><h3 class="title">'+this.title+"</h3><span> ("+this.year+")  </span></div>",movieItem+="<span> | "+shortenStr(this.genre)+" | "+this.duration+" | </span>",movieItem+='<span class="rating"><img src="img/fi-star.svg"><b>'+this.rating+"</b> /10 </span>",movieItem+="<ul>",movieItem+='<li class="entry"> Director: '+this.director+" | Starring: "+this.actors+"</li>",movieItem+='<li class="entry">'+this.plot+"</li>","Stinkers"!==this.type&&"search"!==this.type?movieItem+='<li class="entry">'+this.videoButton.buttonHTML+"</li>":"Stinkers"==this.type&&"search"!=this.type&&(movieItem+='<li class="entry"><b>Mots thoughts: </b><i>'+this.review+"</i></li>"),movieItem+="</ul>",movieItem+="</div>";var b=movieItem;$("#displayList").append(b),"Stinkers"!==this.type&&"search"!==this.type&&this.buttonHandler(this.buttonID)};